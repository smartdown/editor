"use strict";(globalThis["webpackChunksmartdown_editor"]=globalThis["webpackChunksmartdown_editor"]||[]).push([[963],{59963:(e,t,l)=>{l.r(t),l.d(t,{default:()=>B});var o=l(59835),a=l(86970),i=l(61957);const n=(0,o._)("span",{class:"q-ml-sm"},"Please confirm that you wish to delete this note.",-1),d={key:0},u=(0,o._)("h3",null,"Error",-1),r={class:"details"},c={key:0},s={key:1},p=(0,o._)("img",{src:"img/smartdown-120x120.png"},null,-1);function m(e,t,l,m,w,g){const f=(0,o.up)("DrawerItem"),k=(0,o.up)("q-list"),v=(0,o.up)("q-drawer"),b=(0,o.up)("q-avatar"),h=(0,o.up)("q-card-section"),y=(0,o.up)("q-btn"),_=(0,o.up)("q-card-actions"),q=(0,o.up)("q-card"),W=(0,o.up)("q-dialog"),V=(0,o.up)("router-view"),Q=(0,o.up)("q-page-container"),Z=(0,o.up)("q-input"),S=(0,o.up)("q-slide-transition"),T=(0,o.up)("q-space"),D=(0,o.up)("q-toggle"),x=(0,o.up)("q-file"),N=(0,o.up)("q-toolbar"),U=(0,o.up)("q-footer"),C=(0,o.up)("q-layout"),j=(0,o.Q2)("close-popup");return(0,o.wg)(),(0,o.j4)(C,{class:"background",view:"hHh lpR fFf"},{default:(0,o.w5)((()=>[(0,o.Wm)(v,{modelValue:e.leftDrawerOpen,"onUpdate:modelValue":t[0]||(t[0]=t=>e.leftDrawerOpen=t),"show-if-above":"",bordered:"",behavior:"mobile"},{default:(0,o.w5)((()=>[(0,o.Wm)(k,null,{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.links,(e=>((0,o.wg)(),(0,o.j4)(f,(0,o.dG)({key:e.title},e),null,16)))),128))])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(W,{modelValue:e.confirm,"onUpdate:modelValue":t[1]||(t[1]=t=>e.confirm=t),persistent:""},{default:(0,o.w5)((()=>[(0,o.Wm)(q,null,{default:(0,o.w5)((()=>[(0,o.Wm)(h,{class:"row items-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{icon:"check",color:"primary","text-color":"white"}),n])),_:1}),(0,o.Wm)(_,{align:"right"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(y,{flat:"",label:"Never Mind",color:"primary"},null,512),[[j]]),(0,o.wy)((0,o.Wm)(y,{onClick:e.remove,flat:"",label:"Remove Note",color:"primary"},null,8,["onClick"]),[[j]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),e.error?((0,o.wg)(),(0,o.iD)("div",d,[u,(0,o._)("p",null,(0,a.zw)(e.error),1)])):((0,o.wg)(),(0,o.j4)(Q,{key:1},{default:(0,o.w5)((()=>[(0,o.Wm)(V)])),_:1})),(0,o.Wm)(U,{class:(0,a.C_)(["bg-grey-8 text-white",{"toolbar-transparent":e.SQ.toolbarTransparency.value,"toolbar-hidden":!e.SQ.toolbarVisibility.value,"toolbar-fade":e.SQ.toolbarFade.value}])},{default:(0,o.w5)((()=>[e.note?((0,o.wg)(),(0,o.j4)(S,{key:0},{default:(0,o.w5)((()=>[(0,o.wy)((0,o._)("div",r,[e.editMode.editing?((0,o.wg)(),(0,o.iD)("div",c,[(0,o.Wm)(Z,{modelValue:e.draftNewTitle,"onUpdate:modelValue":t[2]||(t[2]=t=>e.draftNewTitle=t),label:"Title",filled:"",ref:"draftNewTitleRef"},null,8,["modelValue"]),(0,o.Wm)(Z,{modelValue:e.note.description,"onUpdate:modelValue":t[3]||(t[3]=t=>e.note.description=t),label:"Description",filled:"",class:"q-mt-sm",dense:"",type:"textarea"},null,8,["modelValue"])])):((0,o.wg)(),(0,o.iD)("div",s,[(0,o.Wm)(Z,{readonly:"",modelValue:e.note.title,"onUpdate:modelValue":t[4]||(t[4]=t=>e.note.title=t),label:"Title",filled:""},null,8,["modelValue"]),(0,o.Wm)(Z,{readonly:"",modelValue:e.note.description,"onUpdate:modelValue":t[5]||(t[5]=t=>e.note.description=t),label:"Description",filled:"",type:"textarea"},null,8,["modelValue"])]))],512),[[i.F8,e.editMode.detailed]])])),_:1})):(0,o.kq)("",!0),(0,o.Wm)(N,{onDblclick:e.goToDashboard},{default:(0,o.w5)((()=>[(0,o.Wm)(y,{size:"sm",onClick:e.toggleLeftDrawer},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{size:"30px"},{default:(0,o.w5)((()=>[p])),_:1})])),_:1},8,["onClick"]),(0,o.Wm)(T),e.note?((0,o.wg)(),(0,o.j4)(D,{key:0,size:"sm",modelValue:e.editMode.editing,"onUpdate:modelValue":t[6]||(t[6]=t=>e.editMode.editing=t),icon:"edit"},null,8,["modelValue"])):(0,o.kq)("",!0),e.note?((0,o.wg)(),(0,o.j4)(D,{key:1,disabled:!e.editMode.editing,size:"sm",modelValue:e.editMode.source,"onUpdate:modelValue":t[7]||(t[7]=t=>e.editMode.source=t),icon:"img:icons/Markdown-mark.svg"},null,8,["disabled","modelValue"])):(0,o.kq)("",!0),e.note?((0,o.wg)(),(0,o.j4)(D,{key:2,size:"sm",modelValue:e.editMode.detailed,"onUpdate:modelValue":t[8]||(t[8]=t=>e.editMode.detailed=t),icon:"info"},null,8,["modelValue"])):(0,o.kq)("",!0),e.note?((0,o.wg)(),(0,o.j4)(y,{key:3,class:"q-mr-lg",size:"sm",round:"",color:"red",icon:"delete",onClick:t[9]||(t[9]=t=>e.confirm=!0)})):(0,o.kq)("",!0),e.note?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(x,{key:4,modelValue:e.uploadedNote,"onUpdate:modelValue":[t[10]||(t[10]=t=>e.uploadedNote=t),t[11]||(t[11]=t=>e.uploadedNoteChanged())],"hide-bottom-space":"",dense:"","item-aligned":"",dark:"",outlined:"",style:{"max-height":"48px","max-width":"80px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{size:"sm",style:{"margin-top":"7px !important"},icon:"file_upload",color:"primary","text-color":"white"})])),_:1},8,["modelValue"])),(0,o.Uk)("     "),"/"===e.path?((0,o.wg)(),(0,o.j4)(y,{key:5,size:"sm",round:"",color:"positive",icon:"add",onClick:e.newNote},null,8,["onClick"])):(0,o.kq)("",!0)])),_:1},8,["onDblclick"])])),_:1},8,["class"])])),_:1})}l(69665),l(95516),l(23036),l(62309);function w(e,t,l,i,n,d){const u=(0,o.up)("q-icon"),r=(0,o.up)("q-item-section"),c=(0,o.up)("q-item-label"),s=(0,o.up)("q-item");return(0,o.wg)(),(0,o.iD)(o.HY,null,[e.to?((0,o.wg)(),(0,o.j4)(s,{key:0,clickable:"",tag:"a",to:e.to},{default:(0,o.w5)((()=>[e.icon?((0,o.wg)(),(0,o.j4)(r,{key:0,avatar:""},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{name:e.icon},null,8,["name"])])),_:1})):(0,o.kq)("",!0),(0,o.Wm)(r,null,{default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(e.title),1)])),_:1}),(0,o.Wm)(c,{caption:""},{default:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(e.caption),1)])),_:1})])),_:1})])),_:1},8,["to"])):(0,o.kq)("",!0),e.action?((0,o.wg)(),(0,o.j4)(s,{key:1,clickable:"",tag:"a",onClick:e.action},{default:(0,o.w5)((()=>[e.icon?((0,o.wg)(),(0,o.j4)(r,{key:0,avatar:""},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{name:e.icon},null,8,["name"])])),_:1})):(0,o.kq)("",!0),(0,o.Wm)(r,null,{default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(e.title),1)])),_:1}),(0,o.Wm)(c,{caption:""},{default:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(e.caption),1)])),_:1})])),_:1})])),_:1},8,["onClick"])):(0,o.kq)("",!0),e.link?((0,o.wg)(),(0,o.j4)(s,{key:2,clickable:"",tag:"a",target:"_blank",href:e.link},{default:(0,o.w5)((()=>[e.icon?((0,o.wg)(),(0,o.j4)(r,{key:0,avatar:""},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{name:e.icon},null,8,["name"])])),_:1})):(0,o.kq)("",!0),(0,o.Wm)(r,null,{default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(e.title),1)])),_:1}),(0,o.Wm)(c,{caption:""},{default:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(e.caption),1)])),_:1})])),_:1})])),_:1},8,["href"])):(0,o.kq)("",!0)],64)}const g=(0,o.aZ)({name:"DrawerItem",props:{title:{type:String,required:!0},caption:{type:String,default:""},link:{type:String,default:""},to:{type:String,default:""},action:{type:Function,default:null},icon:{type:String,default:""}}});var f=l(11639),k=l(490),v=l(76749),b=l(22857),h=l(33115),y=l(69984),_=l.n(y);const q=(0,f.Z)(g,[["render",w]]),W=q;_()(g,"components",{QItem:k.Z,QItemSection:v.Z,QIcon:b.Z,QItemLabel:h.Z});var V=l(28339),Q=l(60499),Z=l(20367),S=l(85335);const T=(0,o.aZ)({name:"MainLayout",components:{DrawerItem:W},setup(){const e=(0,Q.iH)(!1),t=(0,V.yj)(),l=(0,o.Fl)((()=>t.path)),a=(0,Z.o)(),i=(0,Q.iH)(null),n=(0,Q.iH)(""),d=(0,Q.iH)(""),u=(0,Q.iH)(null),r=(0,Q.iH)(null),c=(0,Q.iH)(!1),s=(0,Q.iH)(null),p=(0,o.Fl)({get:()=>a.getEditMode.value,set:a.updateEditMode}),m=(0,Q.iH)(!1),w=(0,V.tv)(),g=()=>{(0,S.R6)(t.params.id),w.push("/")},f=()=>{const e=new Date,t=e.toLocaleString("en-us"),l=`Untitled ${t}`,o={title:l,description:"",content:"",createdAt:e,updatedAt:e};(0,S.AL)(o),c.value=!0,w.push(`/note/${o.title}`)},k=async()=>{const e=new Blob([i.value]),t=await e.text();n.value=t;const l=i.value.name,o=l.endsWith(".md")?l.split(".").slice(0,-1).join("."):l,a=o.replaceAll("__","/").replaceAll("..",":"),d=`File imported from ${i.value.name} at ${a}`;i.value=null;const u={title:a,description:d,content:t};(0,S.AL)(u),setTimeout((()=>{p.value.editing=!1,p.value.detailed=!0}),1),w.push(`/note/${u.title}`)},v=()=>{s.value?w.push(`/export/${s.value.title}`):w.push("/export/all")},b=()=>{w.push("/")},h=[{title:"Notes",caption:"List of Notes",icon:"dashboard",to:"/"},{title:"Export",caption:"Export",icon:"file_download",action:v},{title:"Reset",caption:"Reset with Sample Docs",icon:"clear_all",to:"/reset"},{title:"GitHub",caption:"Login to GitHub",icon:"img:img/Octocat.png",to:"/github"},{title:"About",caption:"About this app",icon:"info",to:"/about"},{title:"Smartdown Site",caption:"smartdown.io",icon:"img:img/favicon-128x128.png",link:"https://smartdown.io"},{title:"Smartdown Gallery",caption:"smartdown.site",icon:"img:img/favicon-128x128.png",link:"https://smartdown.site"},{title:"Smartdown GitHub",caption:"github.com/smartdown",icon:"code",link:"https://github.com/smartdown"}];function y(){s.value=null,a.updateNote(null)}function _(e){if(e){const t=(0,S.nU)(e);if(r.value=null,t)s.value=t,a.updateNote(s),d.value=s.value.title;else{const t=(0,S.Ak)(e);t?((0,S.AL)(t),s.value=(0,S.nU)(e),a.updateNote(s),d.value=s.value.title):r.value=`Note not found: ${e}`}}}(0,o.wF)((()=>{const e=t.params.id;e?_(e):y()})),(0,o.YP)((()=>t.path),(()=>{SQ.setToolbarVisibility(!0),SQ.setToolbarTransparency(!1),SQ.setToolbarFade(!1);const e=new URL(window.location.href);window.history.replaceState(window.history.state,null,e),t.params.id?(_(t.params.id),p.value.editing=p.value.editing||c.value,p.value.detailed=p.value.detailed||c.value,c.value=!1):(p.value.editing=!1,p.value.detailed=!1,y())}));const q=500;let W=null;return(0,o.YP)((()=>d.value),(()=>{window.clearTimeout(W),W=window.setTimeout((()=>{u.value&&(s.value.title=d.value,w.replace(`/note/${d.value}`))}),q)})),{path:l,links:h,leftDrawerOpen:e,toggleLeftDrawer(){e.value=!e.value},error:r,note:s,draftNewTitle:d,draftNewTitleRef:u,editMode:p,confirm:m,remove:g,newNote:f,goToDashboard:b,goToExport:v,uploadedNote:i,uploadedNoteText:n,uploadedNoteChanged:k,SQ}}});var D=l(77605),x=l(65879),N=l(13246),U=l(74870),C=l(44458),j=l(63190),z=l(61357),H=l(11821),M=l(24455),L=l(12133),A=l(71378),F=l(69003),I=l(64152),R=l(51663),$=l(90136),E=l(80592),G=l(1527),P=l(18149),O=l(62146);const Y=(0,f.Z)(T,[["render",m]]),B=Y;_()(T,"components",{QLayout:D.Z,QDrawer:x.Z,QList:N.Z,QDialog:U.Z,QCard:C.Z,QCardSection:j.Z,QAvatar:z.Z,QCardActions:H.Z,QBtn:M.Z,QPageContainer:L.Z,QFooter:A.Z,QSlideTransition:F.Z,QInput:I.Z,QToolbar:R.Z,QSpace:$.Z,QToggle:E.Z,QFile:G.Z,QField:P.Z}),_()(T,"directives",{ClosePopup:O.Z})}}]);